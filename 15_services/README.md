# Домашнее задание к занятию «4.4 Фоновые сервисы (для взаимодействия по HTTP)»

В качестве результата пришлите ссылки на ваш GitHub-проект в личном кабинете студента на сайте [netology.ru](https://netology.ru).

**Важно**: ознакомьтесь со ссылками, представленными на главной странице [репозитория с домашними заданиями](../README.md).

**Важно**: если у вас что-то не получилось, то оформляйте Issue [по установленным правилам](../report-requirements.md).

## Как сдавать задачи

1. Откройте ваш проект Android приложения с предыдущего ДЗ (можете брать код с лекции).
1. Сделайте необходимые коммиты.
1. Сделайте пуш (удостоверьтесь, что ваш код появился на GitHub).
1. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](https://netology.ru).
1. Задачи, отмеченные, как необязательные, можно не сдавать, это не повлияет на получение зачета (в этом ДЗ все задачи являются обязательными).

## Задача Save

### Описание

Реализуйте метод сохранения в репозитории, который мы "не доделали" на лекции.

Что нужно учесть:
1. Пост должен сохраняться как с вложением, так и без
1. После сохранения соответствующая запись (`PostWorkEntity`) должна удаляться из БД, а возвращённая с сервера запись (`Post`) должна сохраняться в БД (`PostEntity`)
1. Если `PostWorkEntity` с соответствующим id не нашлось в базе, возвращайте `Result.failure()`

### Результат

Опубликуйте изменения в виде Pull Request'а в вашем проекте на GitHub.

В качестве результата пришлите: ссылку на PR GitHub-проект в личном кабинете студента на сайте [netology.ru](https://netology.ru)

## Задача Remove

### Описание

Реализуйте удаление так же с помощью `WorkManager`'а.

<details>
<summary>Подсказка</summary>

Не нужно сохранять "задачу" в БД, достаточно передать с помощью `WorkRequest` `id` удаляемой записи.
</details>

Что нужно учесть: после сохранения соответствующая запись (`PostEntity`, именно `PostEntity`, а не `PostWorkerEntity`) должна удаляться из БД.

### Результат

Опубликуйте изменения в виде Pull Request'а в вашем проекте на GitHub.

В качестве результата пришлите: ссылку на PR GitHub-проект в личном кабинете студента на сайте [netology.ru](https://netology.ru)

## Задача Refactoring*

**Важно**: это необязательная задача. Её (не)выполнение не влияет на получение зачёта по ДЗ.

### Описание

Проведите рефакторинг кода приложения: уберите все неиспользуемые сущности (property, параметры, функции) из:
* `ViewModel`
* `Repository`

А также посмотрите на то, какие данные вы передаёте в качестве параметров, возможно их можно упростить.

### Результат

Опубликуйте изменения в виде Pull Request'а в вашем проекте на GitHub.

В качестве результата пришлите: ссылку на PR GitHub-проект в личном кабинете студента на сайте [netology.ru](https://netology.ru)
